CREATE TABLE LINEA
(
    ID_LINEA NUMBER NOT NULL,
    DESCRIPCION VARCHAR2(250) NOT NULL,
    CONSTRAINT PK_LINEA PRIMARY KEY (ID_LINEA)
 );
 -- CAYO
CREATE TABLE PRODUCTO
(
    ID_PRODUCTO NUMBER,
    ID_LINEA  NUMBER NOT NULL, 
    DESCRIPCION VARCHAR2(250) NOT NULL,
    PRECIO_COMPRA NUMBER(9,2) NOT NULL,
    PRECIO_VENTA NUMBER(9,2) NOT NULL,
    STOCK  NUMBER NOT NULL,
    TIPO_PRODUCTO CHAR(1) NOT NULL, --  P รณ D
    CONSTRAINT PK_PRODUCTO PRIMARY KEY (ID_PRODUCTO),
    CONSTRAINT FK_PRODUCTO_LINEA FOREIGN KEY(ID_LINEA) REFERENCES  LINEA(ID_LINEA)
 );
 -- DIOSELINA
CREATE TABLE TIPOEMPLEADO(
    ID_TIPOEMPLEADO NUMBER,
    DESCRIPCION VARCHAR2(255) NOT NULL,
    CONSTRAINT PK_TIPOEMPLEADO PRIMARY KEY (ID_TIPOEMPLEADO)
);
 -- FERNANDO
CREATE TABLE EMPLEADO(
    ID_EMPLEADO NUMBER,
    ID_TIPOEMPLEADO NUMBER NOT NULL,
    NOMBRE VARCHAR2(250) NOT NULL,
    PATERNO VARCHAR2(250) NOT NULL,
    MATERNO VARCHAR2(250) NOT NULL,
     CONSTRAINT PK_EMPLEADO PRIMARY KEY (ID_EMPLEADO),
     CONSTRAINT FK_EMPLEADO_TIPOEMPLEADO FOREIGN KEY (ID_TIPOEMPLEADO) REFERENCES TIPOEMPLEADO(ID_TIPOEMPLEADO)
);

-- DIOSELINA
CREATE TABLE CLIENTE(
    ID_CLIENTE NUMBER,
    RAZONSOCIAL VARCHAR2(250) NOT NULL,
    DIRECCION VARCHAR2(250) NOT NULL,
    RUCDNI VARCHAR(11) NOT NULL,
    TELEFONO VARCHAR(9) NOT NULL,
    CONSTRAINT PK_CLIENTE PRIMARY KEY (ID_CLIENTE)
);

-- CRISTOPHER
CREATE TABLE VENTA(
    ID_VENTA NUMBER,
    ID_CLIENTE NUMBER NOT NULL,
    ID_EMPLEADO NUMBER NOT NULL,
    FECHA_PRODUCIDO TIMESTAMP DEFAULT SYSTIMESTAMP NOT NULL,
    FECHA_ENTREGA TIMESTAMP NOT NULL,
    MONTOTOTAL NUMBER(9,2) NOT NULL,
    TIPO_VENTA CHAR(1) NOT NULL, --  P รณ D
    CONSTRAINT PK_VENTA PRIMARY KEY (ID_VENTA),
    CONSTRAINT FK_VENTA_CLIENTE FOREIGN KEY (ID_CLIENTE) REFERENCES  CLIENTE(ID_CLIENTE),
    CONSTRAINT FK_VENTAL_EMPLEADO FOREIGN KEY (ID_EMPLEADO) REFERENCES  EMPLEADO(ID_EMPLEADO)
);

-- CRISTOPHER
CREATE TABLE DETALLE_VENTA(
    ID_DETALLEVENTA NUMBER,
    ID_VENTA NUMBER NOT NULL,
    ID_PRODUCTO NUMBER NOT NULL,
    PRECIO NUMBER(9,2) NOT NULL,
    CANTIDAD NUMBER NOT NULL,
    IMPORTE NUMBER(9,2) NOT NULL,
    CONSTRAINT PK_DETALLEVENTA PRIMARY KEY (ID_DETALLEVENTA),
    CONSTRAINT FK_DETALLE_VENTA_VENTA FOREIGN KEY (ID_VENTA) REFERENCES VENTA(ID_VENTA),
    CONSTRAINT FK_DETALLE_VENTA_PRODUCTO  FOREIGN KEY (ID_PRODUCTO) REFERENCES PRODUCTO(ID_PRODUCTO)
);

CREATE TABLE ORDEN_PRODUCCION(
    ID_ORDEN NUMBER,
    ID_VENTA NUMBER UNIQUE NOT NULL,
    ID_EMPLEADO NUMBER NOT NULL,
    ESTADO CHAR(1) DEFAULT '0',
    CONSTRAINT PK_ORDEN_PRODUCCION PRIMARY KEY(ID_ORDEN),
    CONSTRAINT FK_ORDEN_PRODUCCION_VENTA FOREIGN KEY (ID_VENTA) REFERENCES VENTA(ID_VENTA),
    CONSTRAINT FK_ORDEN_PRODUCCION_EMPLEADO FOREIGN KEY (ID_EMPLEADO) REFERENCES EMPLEADO(ID_EMPLEADO)
);


CREATE TABLE DETALLE_PRODUCCION(
    ID_DETALLE_PRODUCCION NUMBER,
    ID_PRODUCCION NUMBER NOT NULL,
    NOMBRE NUMBER NOT NULL,
    CANTIDAD NUMBER NOT NULL,
    CONSTRAINT PK_DETALLE_PRODUCCION PRIMARY KEY(ID_DETALLE_PRODUCCION),
    CONSTRAINT FK_DETALLE_ORDEN_PRODUCCION FOREIGN KEY (ID_PRODUCCION) REFERENCES ORDEN_PRODUCCION(ID_ORDEN)
);

CREATE TABLE ORDEN_VENTA(
    ID_ORDEN_VENTA NUMBER,
    ID_ORDEN NUMBER UNIQUE NOT NULL,
    ID_EMPLEADO NUMBER NOT NULL,
    FECHA TIMESTAMP DEFAULT SYSTIMESTAMP NOT NULL,
    ESTADO CHAR(1) DEFAULT '0' NOT NULL,
    CONSTRAINT PK_ORDENVENTA_VENTA PRIMARY KEY (ID_ORDEN_VENTA),
    CONSTRAINT FK_ORDEN_VENTA_EMPLEADO FOREIGN KEY (ID_EMPLEADO) REFERENCES EMPLEADO(ID_EMPLEADO),
    CONSTRAINT FK_ORDEN_VENTA_ORDEN FOREIGN KEY (ID_ORDEN) REFERENCES ORDEN_PRODUCCION(ID_ORDEN)
);

CREATE SEQUENCE SQ_LINEA;
CREATE SEQUENCE SQ_PRODUCTO START WITH 99;
CREATE SEQUENCE SQ_TIPOEMPLEADO;
CREATE SEQUENCE SQ_EMPLEADO;
CREATE SEQUENCE SQ_CLIENTE;
CREATE SEQUENCE SQ_VENTA START WITH 199;
CREATE SEQUENCE SQ_DETALLE_VENTA;
CREATE SEQUENCE SQ_ORDEN_PRODUCCION START WITH 299;
CREATE SEQUENCE SQ_DETALLE_PRODUCCION;
CREATE SEQUENCE SQ_ORDEN_VENTA START WITH 399;